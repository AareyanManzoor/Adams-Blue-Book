\documentclass[../main]{subfiles}
\usepackage{stmaryrd}

\begin{document}

%sucilian(james ash)
%some commutative diagrams at page 18 and 19 might require some minor adjustments, otherwise done.
%I have spruced up some of the LaTeX and might come back to do some more. Note that in the source text the equation*s are not numbered so you should either be using double dollar signs or the equation* environment. --George

%some diagrams on page 18 need to be readjusted to fit the screen

\chapter{Applications to $\pi_{\ast}(\te{bu} \wedge X)$; Modules over $K[x, y]$}
%\chaptermark{\protect\parbox{0.9\linewidth}{Applications to $\pi_{\ast}(\te{bu} \wedge X)$; Modules over $K[x, y]$}}
 
\label{sec:p3c16}
 I would like to present some applications of the spectral sequence of $\S$ \ref{sec:p3c15}, in which we can do the algebra without too much trouble. For this purpose I will consider the calculation of $\pi_{\ast}(\te{bu} \wedge X)$, for various spectra X. Of course. I am really interested in $\pi_{\ast}(\te{bo} \wedge X)$; however, it seems best if I do things for the most elementary case, which is the case $\te{bu}$, but undertake to use only methods which extend to the case $\te{bo}$. For a similar reason I will consider mostly the prime $2$, but I will try to say only things which can also be said for the prime $p$.

If we apply the spectral sequence of $\S$ \ref{sec:p3c15} to compute $\pi_{\ast}(\te{bu} \wedge X)$, using say $E=H\bZ_2$, we obtain a spectral sequence of the following form. \begin{equation*}
    \mathrm{Ext}_{A_\ast}^{s, t} (\bZ_2, (H\bZ_2)_{\ast}(\te{bu} \wedge X)) \underset{s}{\implies} [S, \te{bu} \wedge X ]_{t-s}^{H\bZ_2}.
\end{equation*}
However, in this case the $\te{Ext}$ group simplifies very greatly. To explain how it simplifies, recall that in $A_{\ast}$ we have a base consisting of the monomials $\xi_{1}^{r_{1}}\xi_{2}^{r_{2}}\dots \xi_{n}^{r_{n}}$. The dual base in $A$ is written 
$\mathrm{Sq}^{r_{1}r_{2}\dots r_{n}}$. This is consitent because $\te{Sq}^{r0\dots 0}$ is Steenrod's $\te{Sq}^r$.In particular, $\mathrm{Sq}^{01}$ is the element of this dual base corresponding to the monomial $\xi_{2}$. We have $\te{Sq}^{01}=\mathrm{Sq}^{1}\mathrm{Sq}^{2}+\mathrm{Sq}^{2}\mathrm{Sq}^{1}$. The elements $\mathrm{Sq}^{1}$ and $\mathrm{Sq}^{01}$ generate an exterior subalgebra of $A$; we write $B$ for this exterior subalgebra. It is Hopf subalgebra. The algebra $B$ is of course dual to a quotient $B_{\ast}$ of $A_{\ast}$, namely the quotient of $A_{\ast}$ by the ideal generated by $\xi_{1}^2, \xi_{2}^2, \xi_{3}\dots, \xi_{n}, \dots $. Just as we can consider ($H\bZ_2)^{\ast}(X)$ as a module over $B$, we can consider $(H\bZ_2)^{\ast}(X)$ as a 
co-module over $B_{\ast}$.

For the case of an odd prime, the analogues of $\mathrm{Sq}^{1}$ and $\mathrm{Sq}^{01}$ are the Milnor elements $\mathcal{Q}_{0}$ and $\mathcal{Q}_{1}$. These are the elements of the Milnor base for $A$ corresponding to $\tau_{0}$ and $\tau_{1}$ in $A_{\ast}$. We have $\mathcal{Q}_{0}=$ $\beta_{p}$, $\mathcal{Q}_{1}=P^{1}\beta_{p}-\beta_{p}P^{1}$. $B$ is then the exterior subalgebra of A generated by $\mathcal{Q}_{0}$ and $\mathcal{Q}_{1}$; $B_{\ast}$ is a quotient of $A_{\ast}$ and is an exterior algebra generated by $\tau_{0}$ and $\tau_{1}$.

\qquad \begin{proposition} \label{prop:p3ch16.1} Assume $X$ is connective. Then we have a spectral sequence
\begin{equation*}
    \mathrm{Ext}_{B_\ast}^{s, t} (\bZ_2, (H\bZ_2)_{\ast}(\te{bu} \wedge X)) \underset{s}{\implies} [S, \te{bu} \wedge X ]_{t-s}^{H\bZ_2}.
\end{equation*}
\end{proposition}
    For the case of an odd prime we should take the precaution of splitting $\te{bu}\mathcal{Q}_{p}$ into $(p-1)$ similar summands and using only one of them on the right hand side.
    
    I will finish stating the results I need before I start to prove anything. 
    
    In order to use this spectral sequence to the best advantage we have to know something about the structure-theory of comodules over $B_{\ast}$. As long as our comodules are locally finite-dimensional we may as well dualise and consider the structure-theory of modules over $B$. Even if our comodules are not locally finite-dimensional, we can consider a $B_{\ast}$-comodule $M$ as a $B$-module by the following construction: if \[
        \Psi m= \sum_{1} b_{i}' \otimes m_{i}'', \quad b^{\ast} \in B, 
    \]
    set
    \[
        b^{\ast}m=\sum_{i} \langle cb^{\ast}, b_{i}'\rangle m_{i}''
    \]
    where $c$ is the canonical anti-automorphism of $B$.
    
    The structure-theory works perfectly well for modules over the exterior algebra $K[x, y]$ on two generators $x$ and $y$ of distinct dimension. Here $K$ is supposed to be a field; for some theorems one wants $K$ to be a finite field, but not for anything in these lectures. We assume that the degrees of $x$ and $y$ are odd unless $K$ has characteristic 2; in other words we want $K[x, y]$ to be a Hopf algebra, with $x$ and $y$ primitive.
    
    Some of the ideas of the structure-theory work for a finite-dimensional Hopf algebra $A$, more general than $K[x, y]$. Let $M$ and $N$ be left $A$-modules. We say they are stable isomorphic if there exists free modules $F$ and $G$ such that $M\oplus F \cong N \oplus G$. This is an equivalence relation. For $s>0$ the groups \begin{center}
         $\mathrm{Ext}_{A}^{s, t} (M, K)$
    \end{center}
    depends only on the stable isomorphic class of $M$; this is one reason why it is often sufficient to know only the stable isomorphism class of $M$. 
    
    We can form the sum and the tensor product of two modules. Here we give $M \oplus N$ the diagonal action, using the fact that $A$ is a hopf algebra. The sum and product pass to stable isomorphism classes. The product has a unit, namely the module $1$ and $K$ in degree $0$.
    
    We say that a stable class $P$ is invertible if there is a stable class $\mathcal{Q}$ such that $P\mathcal{Q}\simeq 1$ . 
    
    We define $\Sigma$ to be the module with $K$ in degree $1$. $\Sigma$ is clearly invertible; its inverse is the module $\Sigma^{-1}$ with $K$ in degree $-1$. 
    
    We define $I$ to be the augmentation ideal of $A$.
    
    \begin{lemma} \label{lem:p3ch16.2}
     If $A$ is a connected finite-dimensional Hopf algebra, then $I$ is invertible. 
    \end{lemma}
    We now return to the case $A=K[x, y]$. We observe that a module $M$ has two very useful invariants:
    \[ H_{\ast}(M;x)= \mathrm{Ker} \, x/\mathrm{Im} \, x \]
    
    \[ H_{\ast}(M;y)= \mathrm{Ker} \, y/\mathrm{Im} \, y \]
    These are defined on stable isomorphic classes, and send sums to sums, products to products. The latter follows from the K端nneth theorem. 
    
    \begin{theorem}\label{thm:p3ch16.3}
    Let $M$ be a finite-dimensional module over $K[x, y]$ such that $H_{\ast}(M;x)$ and $H_{\ast}(M;y)$ both have dimension 1 over $K$. Then
    \begin{enumerate}
        \item[(i)] $M$ is invertible
        \item[(ii)] the stable class of $M$ is $\Sigma^{a}I^{b}$ for unique $a, b\in \mathbb Z$. 
    \end{enumerate}
    \end{theorem}
    Noitce how one proves uniqueness. We have
    \[ H_{\ast}(\Sigma^{a}I^{b};x)= \begin{cases}
        K &\text{in degree $a+b|x|=c$, say } \\
        0 &\text{ otherwise}
    \end{cases} \]
    \[ H_{\ast}(\Sigma^{a}I^{b};y)= \begin{cases}
        K &\text{in degree $a+b|y|=d$, say } \\
        0 &\text{ otherwise}
    \end{cases} \]
    
since $|x| \neq |y|$, $c$ and $d$ determine $a$ and $b$.

If we use Proposition $\ref{prop:p3ch16.1}$ to compute $\pi_{\ast}(\te{bu}  \wedge X$) we need to know $(H\bZ_2$)$_{\ast}(X)$ as a comodule over $B_{\ast}$, or equivalently, $(H\bZ_2$)$_{\ast}(X)$ as a module over $B$. In particular, if we want to compute $\pi_{\ast}(\te{bu} \wedge \te{bu} \wedge\dots \wedge \te{bu}$ ) ($n+1$ factors), we need this information for $X=\te{bu} \wedge \te{bu} \wedge\dots \te{bu} $ ($n$ factors).

\begin{proposition} \label{prop:p3ch16.4}\mbox{} % Start new line
\begin{enumerate}
    \item[(i)] The stable class of $(H\bZ_2)^{\ast}(\te{bu})$, as a module over $B$, is
    \[ (1+\Sigma^{2})(1+\Sigma^{3}I)\dots(1+\Sigma^{2^{r}+1}I^{2^{r}-1})\dots \]
\item[(ii)] Let $(\te{bu})^{n}=\te{bu}\wedge \te{bu} \wedge\dots \wedge \te{bu}$($n$ factors). Then the stable class
of $(H\bZ_2)_{\ast}((\te{bu})^{n})$ as a module over $B$ is \[
    (1+\Sigma^{2})^{n}(1+\Sigma^{3}I)^{n}(1+\Sigma^{5}I^{3})^{n}\dots
\]
\end{enumerate}
Of course part (ii) follows immediately from part (i).
\end{proposition}

For the next section, we need one last fact about bu. Recall that $\pi_{2}(\te{bu})\cong \bZ$; let $t\in \pi_{2}(\te{bu})$ be the generator. The homotopy ring  $\pi_{\ast}(\te{bu})$ is the polynomial ring $\mathbb Z[t]$. We may identify $t\in \pi_{2}(\te{bu}) $ with its image in $H_{2}(\te{bu})$ or $H\bQ_{2}(\te{bu}).$ The homology ring $H\bQ_{\ast}(\te{bu})$ is the polynomial ring $\mathbb Q[T]$. We define a numerical function $m(r)$ by \[
    m(r)= \prod_{p}p^{\left[\frac{r}{p-1}\right]}.
\]

Here $p$ runs over prime numbers, and $[x]$ means the integral part of $x$. For example, 
\[ \begin{matrix}
\text{if}\quad  r=1 & 2 & 3 & 4.\\
m(r)=2 & 12 & 24 & 720.
\end{matrix} \]
    
\begin{proposition} \label{prop:p3ch16.5} The image of $H_{\ast}(\te{bu})$ in $H\bQ_{\ast}(\te{bu})$ is the $\bZ$-submodule generated by the elements \[
    \frac{t^{r}}{m(r)}, \quad r=0, 1, 2, \dots .
\]

\end{proposition}
   This completes the statement of results. Now I turn to the proofs.
Let $A$ once more denote the mod $2$ Steenrod algebra. 
\begin{proposition} \label{prop:p3ch16.6}
    As an $A$-module, we have \[
        (H\bZ_2)^{\ast}(\te{bu}) \cong A/A(\mathrm{Sq}^{1}+A\mathrm{Sq}^{01})=A \otimes_{B} \bZ_2.
    \]
\end{proposition}
For the case of an odd prime, we either write \[
    (H\bZ_{p})^{\ast}(\te{bu}) \cong \sum_{1}^{p-1} A/(A\mathcal{Q}_{0}+A\mathcal{Q}_{1}), 
\]
    or we split $\te{bu} \mathcal{Q}_{p}$ into $(p-1)$ similar summands and take one of them. 
    
    For the case of $\te{bo}$, we have \[
        (H\bZ_2)^{\ast}(\te{bu}) \cong A/(A\mathrm{Sq}^{1}+A\mathrm{Sq}^{2})
    \]
    \begin{proof}[Proof of \ref{prop:p3ch16.6}]
     First we obtain information on the first $k$-invariant
2 of $\te{bu}$, which lies in $H^{3}(H)$, which is $\bZ_2$ generated by $
\delta_{2}\mathrm{Sq}^{2}$. The $k$-invariant must be 0 or $\delta_{2}\mathrm{Sq}^{2}$. We wish to find out which; and of course we do it by looking at the terms in the $\te{bu}$-spectrum. For each term in the $\te{bu}$-spectrum, the first $k$-invariant is given by the same stable operation. We choose to look at the third term of the $\te{bu}$-spectrum, which happens to be the first place where we can get the required information, The third term of the $\te{bu}$-spectrum is the space $SU$. Now $\delta_{2}\mathrm{Sq}^{2}\neq 0$ in $H^{6}(H, 3)$ but $H^{6}(SU)=0$ We conclude that the first $k$-invariant of $\te{bu}$ is  $\delta_{2}\mathrm{Sq}^{2}$ rather than 0. 

Now the Bott periodicity theorem gives us the following cofibering, \[
    S^{2} \wedge  \te{bu} \lar{i} \te{bu} \vra{j} H 
\]
This leads to a long exact sequence  \[
    \lal{} (H\bZ_2)^{n}(\te{bu})\lal{j} (H\bZ_2)^{n}(H) \lal{k} (H\bZ_2)^{n}(S^{3} \wedge\te{bu})\lal{} \dots %(S^{3}\te{bu}) could be missing a wegde here-added the wedge, typo in original adams
    \]
    Let $f^{0}$ be the fundamental class in $(H\bZ_2)^{0}(H)$; then we have $(H\bZ_2)^{\ast}(H)\cong A/A\mathrm{Sq}^{1}$, under the map which takes $a$ to $af^{0}$. The class $j^{\ast}f^{0}$ is the fundamental class in $(H\bZ_2)^{0}(\te{bu})$;therefore we obtain a fundamental class $f^{3}$ in $(H\bZ_2)^{n}(S^{3}\wedge \te{bu})$. The information on the k-invariant
says that \begin{equation*}
    k^{\ast}f^{3}=\beta_{2}\mathrm{Sq}^{2}f^{0}=\mathrm{Sq}^{01}f^{0}
\end{equation*}
since $(\mathrm{Sq}^{2}\mathrm{Sq}^{1}f^{0}=0).$ Thus $\mathrm{Sq}^{1}(j^{\ast}f^{0})=0$ and $\mathrm{Sq}^{01}(j^{\ast}f^{0})=0$. So certainly we get a homomorphism \begin{equation*}
    A/(A\mathrm{Sq}^{1}+A\mathrm{Sq}^{01})\lar{} (H\bZ_2)^{\ast}(\te{bu})
\end{equation*}
defined by \begin{equation*}
    a \mapsto a(j^{\ast}f^{0}).
\end{equation*}
We recall that $\mathrm{Sq}^{1}$ and $\mathrm{Sq}^{01}$ generate the exterior subalgebra  $B\subset A$, and $A$ is free as a right module over $B$. So we have the
following short exact sequence. \begin{equation*}
    0 \lal{} A/(A\mathrm{Sq}^{1}+A\mathrm{Sq}^{01}) \lal{} A/(A\mathrm{Sq}^{1}) \lal{} A/(A\mathrm{Sq}^{1}+A\mathrm{Sq}^{01}) \lal{} 0
\end{equation*}
Here the map on the right takes \begin{equation*}
    \te{cls}\hspace{0.1cm} x \lal{} \te{cls}\hspace{0.1cm} x\mathrm{Sq}^{01}. 
\end{equation*}
Indeed, we have the following diagram. 
\[\adjustbox{scale=0.95,center}{
\begin{tikzcd}
	\dots & {[A/(A\mathrm{Sq}^{1}+A\mathrm{Sq}^{01})]_{n}} & {[A/(A\mathrm{Sq}^{1})]_{n}} & {[A/(A\mathrm{Sq}^{1}+A\mathrm{Sq}^{01})]_{n-3}} & \dots \\
	\dots & {(H\bZ_2)^{n}(\te{bu})} & {(H\bZ_2)^{n}(H)} & {(H\bZ_2)^{n}(S^{3}\wedge \te{bu})} & \dots
	\arrow["0"', from=1-2, to=1-1]
	\arrow[from=1-3, to=1-2]
	\arrow[from=1-4, to=1-3]
	\arrow["0"', from=1-5, to=1-4]
	\arrow[from=2-2, to=2-1]
	\arrow[from=2-3, to=2-2]
	\arrow[from=2-4, to=2-3]
	\arrow[from=2-5, to=2-4]
	\arrow[shift right=5, from=1-4, to=2-4]
	\arrow[shift right=5, from=1-3, to=2-3]
	\arrow[shift right=5, from=1-2, to=2-2]
\end{tikzcd}}\]
Suppose as an inductive hypothesis that \begin{equation*}
    [A/(A\mathrm{Sq}^{1}+A\mathrm{Sq}^{01})]_{r} \lar{} (H\bZ_2)^{r}(\te{bu})
\end{equation*}
is an isomorphism for $r<n$. Then for $(H\bZ_2)^{n}(S^{3}\wedge \te{bu})$ the same thing holds for $r<n+3$. Now the five lemma shows that \begin{equation*}
    [A/(A\mathrm{Sq}^{1}+A\mathrm{Sq}^{01})]_{r} \lar{} (H\bZ_2)^{r}(\te{bu})
\end{equation*}
is an isomorphism for $r=n$. This completes the induction and proves in \ref{prop:p3ch16.6} 
    \end{proof}
     \begin{proof}[Proof of \ref{prop:p3ch16.1}] We have a spectral sequence \begin{equation*}
            \mathrm{Ext}_{B_\ast}^{s, t} (\bZ_2, (H\bZ_2)_{\ast}(\te{bu} \wedge X)) \underset{s}{\implies} [S, \te{bu} \wedge X ]_{t-s}^{H\bZ_2}.
     \end{equation*}
      Suppose to begin with that $(H\bZ_2)_{\ast}(\te{bu}\wedge X)$ is locally finite-dimensional over $\bZ_2$. Then $\te{Ext}$ of comodules over $A_{\ast}$ is the same as $\te{Ext}$ of modules over $A$: \begin{equation*}
          \mathrm{Ext}_{B_\ast}^{s, t} (\bZ_2, (H{\bZ_2})_{\ast}(\te{bu} \wedge X)) \cong \mathrm{Ext}_{B_\ast}^{s, t} ((H\bZ_2)^{\ast}(\te{bu}\wedge X), \bZ_2). 
      \end{equation*}
      The latter is the classical way of writing the $E_{2}$ term. Now of course the K端nneth theorem gives us an isormorphism \begin{equation*}
          (H\bZ_2)^{\ast}(\te{bu} \wedge X) \cong (H\bZ_2)^{\ast}(\te{bu})\otimes_{\bZ_2}(H\bZ_2)^{\ast}(X).
      \end{equation*}
      This is an isomorphism of $A-$modules, provided we make $A$ act on the
right-hand side by the diagonal action: \begin{equation*}
    a(u\otimes v)= \sum_{i}(a_{i}'u)\otimes(a_{i}''v)
\end{equation*}
where \begin{equation*}
    \Psi a = \sum_{i} a_{i}' \otimes a_{i}''.
\end{equation*}
(The isomorphism is $A$-linear by the Cartan formula.) By \ref{prop:p3ch16.6} this gives \begin{equation*}
    (H\bZ_2)^{\ast}(\te{bu} \wedge X)= (A \otimes_{B} \bZ_2)\otimes(H\bZ_2)^{\ast}(X) 
\end{equation*}
where the right-hand side is again furnished with the diagonal action. On
the other hand, if $M$ is an S-module, then $A$ acts on $A \otimes M$ by the left action \begin{equation*}
 a'(a\otimes m )= a'a \otimes m 
\end{equation*}
and on $(A \otimes_{B} \bZ_2)\otimes M$ by the diagonal action. We have an isomorphism \begin{equation*}
    A \otimes_{B} M \lar{} (A \otimes_{B} \bZ_2)\otimes M
\end{equation*}
given by \begin{equation*}
    a \otimes m \mapsto \sum_{i}a_{i}'\otimes a_{i}''m.
\end{equation*}
So we find \begin{equation*}
    (H\bZ_2)^{\ast}(\te{bu} \wedge X) \cong A \otimes_{B}(H\bZ_2)^{\ast}(X).
\end{equation*}
Now by a change-of-rings theorem we have 
\begin{align*}
    \mathrm{Ext}_{A}^{s, t}((H\bZ_2)^{\ast}&(\te{bu} \wedge X), \bZ_2)\\
    &\cong\mathrm{Ext}_{A}^{s, t}(A \otimes_{B}(H\bZ_2)^{\ast}(X), \bZ_2)\\
    &\cong \mathrm{Ext}_{A}^{s, t}((H\bZ_2)^{\ast}(X), \bZ_2)
\end{align*}

Finally, the assumption of local finite-dimensionality is unnecessary, 
provided we dualise the argument and work in homology the whole time, 
Using the corresponding lemmas for comodules and the "cotheorem" to
the change-of-rings theorem, we find \begin{equation*}
    \mathrm{Ext}_{A}^{s, t}(\bZ_2, (H\bZ_2)_{\ast}(\te{bu} \wedge X)) \cong \mathrm{Ext}_{A}^{s, t}(\bZ_2, (H\bZ_2)_{\ast}(X)).
\end{equation*}
This proves \ref{prop:p3ch16.1}.
     \end{proof}
     
    The structure-theory for modules I defer for the moment, so the
next thing is to prove 16.4, assuming the results of the structure-theory.
I need one more result not yet stated. 

\begin{lemma}[Adams and Margolis] \label{lem:p3ch16.7}
 Let $M$ and $N$ be modules over $K[x, y]$ which are connective (bounded below), i.e., there exists $n_{0} \in \mathbb{Z}$ such that $M_{r}=0$ and $N_{r}=0$ for $r<n_{0}$. Alternatively, let $M$ and $N$ be bounded above, i.e., $M_{r}$ and $N_{r}$ are zeroes for $r$ greater than some $n_{0}$ Let $f:M\mapsto N$ be a map of modules such that \begin{equation*}
     f_{\ast}:H_{\ast}(M;x)\mapsto H_{\ast}(N;x) 
 \end{equation*}
 and \begin{equation*}
      f_{\ast}:H_{\ast}(M;y)\mapsto H_{\ast}(N;y) 
 \end{equation*}
 are isomorphism. Then $M$ and $N$ are stably isomorphic
\end{lemma}

Now we continue to study $\te{bu}$. in \ref{prop:p3ch16.6} we said that by using the morphism $\te{bu} \vra{f^0j} H\bZ_2$ we can regard $(H\bZ_2)^{\ast}(\te{bu})$ as a quotient of $H\bZ_2^{\ast}(H\bZ_2)=A.$ Dually, we can regard $(H\bZ_2)_{\ast}(\te{bu}) $ as a subobject of $H\bZ_2^{\ast}(H\bZ_2)=A_{\ast}$. In fact, for calculation it is usually convenient to apply the canonical anti-automorphism of $A_{\ast}$; in other words instead of looking at the morphism \begin{equation*}
    H\bZ_2\wedge \te{bu}\vra{1 \wedge f^{0}j} H\bZ_2 \wedge H\bZ_2, 
\end{equation*}
and taking the induced map of homotopy we look at \begin{equation*}
    \te{bu}\wedge H\bZ_2 \vra{f^{0}j \wedge1 } H\bZ_2 \wedge H\bZ_2, 
\end{equation*}
and take the induced map of homotopy 
\begin{lemma} \label{lem:p3ch16.8}
 $(f^{0}j)_{\ast}$ identifies $\pi_{\ast}(\te{bu} \wedge H\bZ_2)$ with the subalgebra of $A_{\ast}$ generated by \begin{equation*}
     \xi_{1}^{2}, \xi_{2}^{2}, \xi_{3}, \xi_{4}, \dots
 \end{equation*}
 This is immediately equivalent to \ref{prop:p3ch16.6};$\te{Im}(f^{0}j\wedge1)_{\ast}$ is the annihilator of $\mathrm{Sq}^{1}A+\mathrm{Sq}^{01}A.$
 Similarly, one would identify $\pi_{\ast}(\te{bu} \wedge H\bZ_2)$ with the subalgebra of $A_{\ast}$ generated by $\xi_{1}^{4}, \xi_{2}^{2}, \xi_{3}, \xi_{4}, \dots$
\end{lemma}
In order to prove \ref{prop:p3ch16.4}, on the structure of $(H\bZ_2)^{\ast}(\te{bu})$ as a B-module, an obvious move is to compute the homology of $(H\bZ_2)^{\ast}(\te{bu})$ for the boundaries $\mathrm{Sq}^{1}$ and $\mathrm{Sq}^{01}$ (acting on the left). It is equivalent to compute the homology of $(H\bZ_2)^{\ast}(\te{bu})$ for the boundaries $\mathrm{Sq}^{1}$ and $\mathrm{Sq}^{01}$ (acting on the right); these boundaries may be calculated as follows.

Regard $(H\bZ_2)^{\ast}(\te{bu})$ as a subalgebra of $A_{\ast}$; let \begin{equation*}
    \Psi a = \sum_{i}a_{i}'\otimes a_{i}'';
\end{equation*}
then \begin{equation*}
    a\mathrm{Sq}^{1}=\sum_{i}a_{i}'\langle\mathrm{Sq}^{1}, a_{i}''\rangle 
\end{equation*}
\begin{equation*}
    a\mathrm{Sq}^{01}=\sum_{i}a_{i}'\langle\mathrm{Sq}^{01}, a_{i}''\rangle 
\end{equation*}
These boundaries are derivations, 
\begin{lemma}\begin{enumerate}[label=(\roman*)] \label{lem:p3ch16.9}
    \item The homology for $\mathrm{Sq}^{1}$ is a polynomial algebra of one generator $\xi_{1}^{2}$.\\
    \item The homology for $\mathrm{Sq}^{01}$ is an exterior algebra on generators
\end{enumerate} 
 $\xi_{1}^{2}, \xi_{2}^{2}, \xi_{3}^{2}, \dots$
 
\end{lemma}
\begin{proof}
\begin{enumerate}[label=(\roman*)]
    \item[(i)] Decompose $\pi_{\ast}(\te{bu} \wedge H\bZ_2)$ as the tensor product of the following chain complexes.
 \end{enumerate}  
    \begin{enumerate}
        \item[(1)] $1, \xi_{1}^{2}, \xi_{1}^{4}, \xi_{1}^{6}, \xi_{1}^{8}, \dots$, 
        
        \item[($r$)] $1, \xi_{r}^{2}\lal{} \xi_{r+1}, \xi_{r}^{4}\lal{} \xi_{r}^{2}\xi_{r+1}, \xi_{r}^{6}\lal{} \xi_{r}^{4}\xi_{r+1}, \dots.$ 
        
        ($r \ge 2$)
    \end{enumerate}
    
    Each chain complex $(r)$ has homology $\bZ_{r}$ generated by \cite{adams3}. By the K端nneth theorem, the homology of the tensor-product is the homology of $(1)$.A similar proof works for $(ii)$.
    \end{proof}
   \begin{proof}[Proof of \ref{prop:p3ch16.4}] We show that $\pi_{\ast}(\te{bu} \wedge H\bZ_2)$ contains a finite-dimensional submodule $M_{r}$ such that $H(M_{r};\mathrm{Sq}^{1})$ is $\bZ_2$, generated by $\xi_{1}^{2^{r}}$, and $H(M_{r};\mathrm{Sq}^{01})$ is $\bZ_2$, generated by $\xi_{r}^{2}$. It is sufficient to indicate the first few modules \begin{enumerate}
       \item $\xi_{1}^{2}$
       \item 
\[\begin{tikzcd}
	{} &&& {\xi_{2}^{2}} & {\xi_{1}^{4}} \\
	& {\xi_{3}}
	\arrow["{\mathrm{Sq}^{1}}", from=2-2, to=1-4]
	\arrow["{\mathrm{Sq}^{01}}"', from=2-2, to=1-5]
\end{tikzcd}\]
\item \[\begin{tikzcd}
	& {\xi_{3}^{2}} && {\xi_{2}^{4}} && {\xi_{2}^{2}\xi_{1}^{4}} & {\xi_{1}^{8}} \\
	{\xi_{4}} && {\xi_{2}^{2}\xi_{3}} && {\xi_{1}^{4}\xi_{3}}
	\arrow[from=2-1, to=1-2]
	\arrow[from=2-1, to=1-4]
	\arrow[from=2-3, to=1-4]
	\arrow[from=2-3, to=1-6]
	\arrow[from=2-5, to=1-6]
	\arrow[from=2-5, to=1-7]
\end{tikzcd}\]
   \end{enumerate}
   Since $\pi_{\ast}(\te{bu} \wedge H\bZ_2)$ is an algebra over B, we obtain a map \begin{equation*}
       (1+M_{1})(1+M_{2})\dots \mapsto \pi_{\ast}(\te{bu} \wedge H\bZ_2)
   \end{equation*}
   which induces an isomoprhism of $H(-;\mathrm{Sq}^{1})$ and $H(-;\mathrm{Sq}^{01})$, so that the two sides are stably isomoprhic by \ref{lem:p3ch16.7}. Dualising, we obtain the stable class of $(H\bZ_2)^{\ast}(\te{bu})$ as \begin{equation*}
        (1+M_{1}^{\ast})(1+M_{2}^{\ast})\dots(1+M_{r}^{\ast})\dots
   \end{equation*}
   Here $M_{r}^{\ast}$ satisfied the hypothesis of Theorem \ref{thm:p3ch16.3}, which allows one to express it in the form  $\Sigma^{a}I^{b}$.This proves \ref{prop:p3ch16.4}
   \end{proof}
   
    All this work carries over to $\te{bo}$.
    
    We now turn to the proof of \ref{prop:p3ch16.5}. This is done essentially by the
Bockstein spectral sequence, although I will not assure any knowledge of
that, We recall that the Bockstein boundary \begin{equation*}
    \beta_{2}:(H\bZ_2)_{n}(\te{bu}) \mapsto (H\bZ_2)_{n-1}(\te{bu}) 
\end{equation*}
    is the boundary $\mathrm{Sq}^{1}$ of $\ref{lem:p3ch16.9}$ 

\begin{proof}[proof of \ref{prop:p3ch16.5}] We seperate the primes $p$. Let $\bQ_p$ be the localisation of $\bZ$ at $p$, that is the subring of fractions $a/b$ with $b$ prime to $p$. We wish to prove that the image of $(H\bQ_{p})_{\ast}(\te{bu})$ in $(H\bQ)_{\ast}(\te{bu})$ is the $\bQ_{p}$-subalgebra generated by $t$ and $t^{p-1}/p$. Of course I give the proof for the case $p=2$;the case of an odd prime is similar.

The spectrum $\te{bu}$ has a (stable) cell-decomposition of the form \begin{equation*}
    \te{bu}=S^{0}\cup_{\eta}e^{2}\cup\dots
\end{equation*}
where $\eta$ is the generator for the stable 1-stem, and the cells omitted have (stable) dimension $\geq$ 4, It follows that the Hurewicz homomorphism \begin{equation*}
    \bZ \cong \pi_{2}(\te{bu}) \mapsto H_{2}(\te{bu}) \cong \bZ
\end{equation*}
is multiplication by 2 ; that is, $H_{2}(\te{bu})$ is generated by $t/2=T$, say. It follows immediately that the image of $H_{\ast}(\te{bu}) \mapsto (H\mathbb{Q})_{\ast}(\te{bu})$ contains $T^{r}=(t/2)^{r}.$ We wish to prove a result in the opposite direction.

The image of $H_{2r}(\te{bu})\mapsto (H\bQ)_{2r}(\te{bu})$ is a finitely-generated abelian group, and since it is non-zero, it is isomorphic to $\bZ$; let $h\in H_{2r}(\te{bu}) $ map to a generator. Let us write $\overline{h}$, $\overline{T}$ for the images of $h, T$ in $(H\bZ_2)_{\ast}(\te{bu}).$ Then we have \begin{equation*}
    \beta_{2}\overline{h}=0 .
\end{equation*}
By \ref{lem:p3ch16.9}, $(\te{Ker}\beta_{2}/\te{Im}\beta_{2})_{2r}$ is generate by $\xi_{1}^{2r}$. So we have \begin{equation*}
    \overline{h}= \lambda \xi_{1}^{2r}+\beta_{2}k
\end{equation*}
where $\lambda \in Z$ and $k\in (H\bZ_2)_{2r+1}(\te{bu}).$ That is \begin{equation*}
    \overline{h}= \lambda\overline{T}^{r}+\overline{\delta_{2}k}, 
\end{equation*}
where  $\delta_{2}=(H\bZ_2)_{2r+1}(\te{bu})\mapsto H_{2r}(\te{bu})$is the integral Bockstien . This gives \begin{equation*}
    h=\lambda T^{r}+\lambda_{2}k+2L 
\end{equation*}
where $L\in H_{2r}(\te{bu}).$ For the images in $(H\mathbb{Q})_{2r}(\te{bu})$ we have \begin{equation*}
    h=\lambda(t/2)^{r}+2\mu h
\end{equation*}
where $\mu \in \bZ$; that is, \begin{equation*}
    h=\frac{\lambda}{1-2\mu}(t/2)^{r}
\end{equation*}
where $\frac{\lambda}{1-2\mu}\in \mathbb{Q}_{2}$. This proves the result for the prime 2. 
\end{proof}

Now we turn to the structure theory.

\begin{proof}[Proof of 16.2] Recall that A is a connected finite-dimensional
Hopf algebra. So if M is an A-module, we can make its dual $M^{\ast}=\te{Hom}_{K}^{\ast}(M, K)$ into an A-module. Also $A^{\ast}$ is free on one generator.Recall also that I is the augmentation ideal of A, so that we have the
following exact sequence. \begin{equation*} 
% the 1's might be an I that got cut off in the book
    0 \lar{} I \lar{} A \lar{} 1 \lar{} 0
\end{equation*}
Dualising, we have the following exact sequence. 
\begin{equation*}
    0 \lar{} 1 \lar{} A^{\ast} \lar{} I^{\ast} \lar{} 0
\end{equation*}
Tensoring the first sequence with $I^{\ast}$, We have \begin{equation*}
    0 \lar{} I\otimes I^{\ast} \lar{} A\otimes I^{\ast} \lar{} I^{\ast} \lar{} 0.
\end{equation*}
Here $A^{\ast}$ and $A^{\ast}\otimes I^{\ast}$ are free. By Schanuel's lemma, we have \begin{equation*}
    \left(I\otimes I^{\ast}\right)+ A^{\ast}\cong 1+(A\otimes I^{\ast}), 
\end{equation*}
SO $I\otimes I^{\ast}$ is stably isomorphic to 1, and I is invertible. This proves $\ref{lem:p3ch16.2}$
\end{proof}
To prove $\ref{thm:p3ch16.3}$(i) I need $\ref{lem:p3ch16.7}$ the lemma of Adams and Margolis.

First one proves a special case.
\begin{lemma}\label{lem:p3ch16.10} 
Let M be a module over $K[x, y]$ which is connective, i.e., bounded below; alternatively, let $M$ be bounded above. Assume $H_{\ast}(M;x)=0$, $ H_{\ast}(M;y)=0$. Then $M$ is free.
    
\end{lemma}
\begin{proof}[Proof of 16.10.] Since $H_{\ast}(M;x)=0$ we have a short exact sequence \begin{equation*}
    0 \lar{} M/xM \overset{i}{\lar{}} M \overset{j}{\lar{}} M/xM \lar{} 0 
\end{equation*}
in which $i([m])=xm$ and $j$ is the quotient map . This leads to a long exact sequence of homology for the boundary $y$, namely \begin{equation*}
    H_{r}(M;y) \lar{} H_{r}(M/xM;y) \lar{} H_{r+|y|-|x|}(M/xM;y)\lar{} H_{r+|y|}(M;y).
\end{equation*}
since $H_{\ast}(M;y)=0$ we have \begin{equation*}
    H_{r}(M/xM;y)=H_{r+|y|-|x|}(M/xM;y).
\end{equation*}
Since $M$ is bounded either below or above, we have $H_{r}(M/xM;y)=0$ either for $r<n_{0}$ or for $r>n_{1}$. Since $|y|-|x| \neq 0$, we can use the isomorphism \begin{equation*}
    H_{r}(M/xM;y) \cong H_{r+|y|-|x|}(M/xM;y)
\end{equation*} 
to prove by induction over $r$ that \begin{equation*}
     H_{r}(M/xM;y)=0
\end{equation*}
for all $r$. 

It is immediate that $M/xM$ is free over $K[y]$. That is, let $b_{\alpha}$ be elements in M whose images form a $K$-base in \begin{equation*}
    \frac{M/xM}{y(M/xM)};
\end{equation*}
then the images of $b_{\alpha}$, $yb_{\alpha}$ form a K-base in $M/xM$. It follows that the elements $b_{\alpha}, yb_{\alpha}, xb_{\alpha}, xyb_{\alpha}$ form a $K$-base in M. This proves \ref{lem:p3ch16.10}.
\end{proof}
\begin{proof}[Proof of \ref{lem:p3ch16.7}] Let $f:M\lar{} N$ be a map of modules, say bounded below such that \begin{equation*}
    f_{\ast}: H_{\ast}(M;x) \lar{} H_{\ast}(N;x)
\end{equation*}
and \begin{equation*}
    f_{\ast}: H_{\ast}(M;y) \lar{} H_{\ast}(N;y)
\end{equation*}
%3rd line could be missing 2 charachters and a bracket
are isomorphisms. By adding to $M$ a free module $F$ bounded below, we can extend $f$ to $f'=(f, g):M\oplus F \mapsto N$ which is onto and also induces and isomorphism of $H_{\ast}(-;x), H_{\ast}(-;y).$ Consider $\te{Ker}\hspace{0.1cm}{f}'$; this is bounded below, and by the exact homology sequence we have $H_{\ast}(\te{Ker}\hspace{0.1cm}f';x)=0$, $H_{\ast}(\te{Ker}\hspace{0.1cm}f';y)=0$. So $\te{Ker}\hspace{0.1cm}f'$ is free by \ref{lem:p3ch16.10}. But over $K[x, y]$ the free modules are injective so we have \begin{equation*}
    M \oplus F \cong N \oplus \te{Ker}\hspace{0.1cm}f'
\end{equation*}
and $M$ is stably isomorphic to $N$. This proves \ref{lem:p3ch16.7}

\end{proof}
\begin{proof}[Proof of \ref{thm:p3ch16.3}(i)] Let $M$ be a finite-dimensional module over $K[x, y]$ such that $H_{\ast}(M;x)$ and $H_{\ast}(M;y)$ have dimension $1$ over $K$. Then the same holds for $M^{\ast}$. Consider the evaluation map $M^{\ast}\otimes M \lar{} 1.$ This is a map of modules over $K[x, y]$, and (using the K端nneth theorem). it induces an isomorphism of $H_{\ast}(-;x), H_{\ast}(-;y), $. by \ref{lem:p3ch16.7}, $M^{\ast}\otimes M$ and 1 are stably isomorphic; so M is invertible. This proves \ref{thm:p3ch16.3} (i).

To prove \ref{thm:p3ch16.3}(ii) we need some more structure theory. First we put in evidence several examples of graded modules over $K[x, y]$. The
first is called the lightning-flash. It has generators $g_{i}$ in dimesion $(|y|-|x|)i \hspace{0.3cm}(i\in \bZ)$ and relations $yg_{i}=xg_{i+1}$.
\end{proof}
\begin{equation*}
\adjustbox{scale = 1, center}{
    \begin{tikzcd}
	&&& {} \\
	{-\infty} & \dots &&& \bullet && \bullet && \bullet & \dots & {+\infty} \\
	& \bullet && \bullet && \bullet && \bullet
	\arrow[from=2-2, to=2-1]
	\arrow["\shortmid"{marking}, shorten <=2pt, shorten >=1pt, from=2-2, to=3-2]
	\arrow["y", from=3-2, to=2-5]
	\arrow["x", from=3-4, to=2-5]
	\arrow["y", from=3-4, to=2-7]
	\arrow["x"{pos=0.2}, no head, from=3-6, to=2-7]
	\arrow["y", from=3-6, to=2-9]
	\arrow["x"{pos=0.2}, from=3-8, to=2-9]
	\arrow[from=2-10, to=2-11]
	\arrow[no head, from=3-8, to=2-10]
\end{tikzcd}}
\end{equation*}
We can bring the lightning-flash to an end on the left either by taking the
submodule generated by the $g_{i}$ for $i \geq \nu$ or by taking a quotient module, factoring out the $g_{i}$ for $i<\nu$. %same problem with diagram not fitting
\begin{equation*}
\adjustbox{scale = 0.7, center}{
   \begin{tikzcd}
	& \bullet && \bullet && \bullet && \bullet & {} \\
	\bullet && \bullet && \bullet && {} && \dots & {+\infty} \\
	&&& \bullet && \bullet && \bullet \\
	\bullet && \bullet && \bullet && {} && \dots & {+\infty}
	\arrow[from=2-9, to=2-10]
	\arrow[no head, from=2-5, to=1-8]
	\arrow[no head, from=1-6, to=2-5]
	\arrow[no head, from=2-3, to=1-6]
	\arrow[no head, from=1-4, to=2-3]
	\arrow["y", from=2-1, to=1-4]
	\arrow["x", from=2-1, to=1-2]
	\arrow[no head, from=4-5, to=3-8]
	\arrow[shorten >=12pt, no head, from=3-8, to=4-7]
	\arrow[no head, from=3-6, to=4-5]
	\arrow[no head, from=4-3, to=3-6]
	\arrow["x"', no head, from=4-3, to=3-4]
	\arrow["y", from=4-1, to=3-4]
	\arrow[from=4-9, to=4-10]
	\arrow[shorten >=12pt, no head, from=1-8, to=2-7]
\end{tikzcd}}
\end{equation*}
In the latter case $xg_{\nu}=yg_{\nu-1}=0$. Similarly, we can bring the lightning-flash to an end on the right, either by taking the submodule generated by the $g_{i}$ for $i \leq \nu$, or by taking a quotient module, factoring out the $g_{i}$ for $i>\nu$.
%wasnt sure how to adjust the 1st 2nd arrow from the left maybe someone more knowledgable in commutative diagrams can fix that susilian--
\begin{equation*}
\adjustbox{scale = 0.7, center}{
   \begin{tikzcd}
	{-\infty} & \bullet & \bullet & \bullet && \bullet && \bullet && \bullet \\
	&& \bullet && \bullet && \bullet \\
	{-\infty} & \bullet & \bullet & \bullet && \bullet && \bullet \\
	&& \bullet && \bullet && \bullet
	\arrow["y", from=2-7, to=1-10]
	\arrow["x"{pos=0.2}, from=2-7, to=1-8]
	\arrow[no head, from=2-5, to=1-8]
	\arrow[no head, from=2-3, to=1-6]
	\arrow[no head, from=1-6, to=2-5]
	\arrow[no head, from=1-4, to=2-3]
	\arrow[no head, from=1-4, to=1-3]
	\arrow[from=1-2, to=1-1]
	\arrow[from=3-2, to=3-1]
	\arrow[no head, from=3-4, to=3-3]
	\arrow[no head, from=3-4, to=4-3]
	\arrow[no head, from=4-3, to=3-6]
	\arrow[no head, from=3-6, to=4-5]
	\arrow["y", from=4-5, to=3-8]
	\arrow["x"{pos=0.2}, from=4-7, to=3-8]
\end{tikzcd}}
\end{equation*}

In the latter case $xg_{\nu}=yg_{\nu+1}=0$

If we want finite-dimensional modules, we can end the lightning~-
flash two ways on the left and two ways on the right, giving four sorts of
module, Of course, for modules of one sort we can alter the length, 
, e.g., \begin{equation*}
\adjustbox{scale = 0.7, center}{
    \begin{tikzcd}
	&& {} &&& \bullet && \bullet &&&&& \bullet && \bullet & \bullet & \dots \\
	\bullet && \bullet && \bullet && \bullet && {\text{or}} & \bullet && \bullet && \bullet
	\arrow["y", from=2-3, to=1-6]
	\arrow["x"', from=2-5, to=1-6]
	\arrow[no head, from=2-5, to=1-8]
	\arrow[no head, from=1-8, to=2-7]
	\arrow[no head, from=2-10, to=1-13]
	\arrow[no head, from=1-13, to=2-12]
	\arrow[no head, from=2-12, to=1-15]
	\arrow[no head, from=1-15, to=2-14]
	\arrow[no head, from=2-14, to=1-16]
\end{tikzcd}}
\end{equation*}
Also we might alter the grading, e.g., we might put the generator $g_{0}$ in degree $1$ instead of degree $0$.

We add these four sorts of modules the free modules on the generator.
% starting 6.11
\begin{theorem}
\label{thm:p3ch16.11}
Let $M$ be a module over $K[x, y]$ which is finite-dimensional over $K$. Then $M$ is a (finite) direct sum of modules of these fives types. 
\end{theorem}

\emph{First step.} Suppose $x y \ne 0$. Then $M$ is the direct sum of some module $N$ and a free module on one generator. 

\begin{proof}
Take $m_0 \in M_r$ such that $x y m_0 \ne 0$. Then there is a linear functional $\theta : M_{r + |x| + |y|} \lar{} K$ such that $\theta(x y m_0) = 1$. Let $F$ be free on one generator $f$ of degree $r$. Define maps of modules \[F \lar{\alpha} M \lar{\beta} F\] by $\alpha(f) = m_0$, \[\beta(m) = \begin{cases}\theta(m)xyf & m \in M_{r + |x| + |y|} \\ \theta(xm) y f & m \in M_{r + |y|} \\ -\theta(ym) x f & m \in M_{r + |x|} \\ \theta(xym)f & m  \in M_r \\ 0 & \text{otherwise}\end{cases}.\] This shows $M \cong (\te{Ker}\hspace{0.1cm} \beta) \oplus F$. 
\end{proof}

\emph{Second step}. $M \cong N \oplus F$, where $F$ is free and $N$ is annihilated by $xy$.

\begin{proof}
Choose a $K$-base for $x y M$. Let $m_\alpha$ be elements in $M$ such that the elements $x y m_\alpha$ are the chosen $K$-base in $x y M$. Either proceed as in the first step, or remark that this gives an injection $F \lar{} M$ and $F$ is injective.

In what follows, then, we can assume that $M$ is annihilated by $x y$, and we have the prove that $M$ is a (finite) direct sum of modules of the four types.

By a \emph{base} \index{Base of a graded module} for a graded module, we mean a $K$-base of homogeneous elements. 

We will say that a base $\{b_\alpha\}$ for $M$ is \emph{good} if it satisfies the following conditions. 

\begin{enumerate}
    \item[(i)] For each vector $b_\alpha$ in the base, $x b_\alpha$ is either zero or a vector in the base; and $x b_\alpha = x b_\beta \ne 0$ implies $\alpha = \beta$.
    \item[(ii)] For each vector $b_\alpha$ in the base, $y b_\alpha$ is either zero or a vector in the base; and $y b_\alpha = y b_\beta \ne 0$ implies $\alpha = \beta$. 
\end{enumerate}
\end{proof}

\begin{lemma}
\label{lem:p3ch16.12}
If $x y M = 0$ and $M$ has a good base, then the conclusion of Theorem~\ref{thm:p3ch16.11} follows. 
\end{lemma}

\begin{proof}
Suppose $M$ has a good base $\{b_\alpha\}$. Take the indices $\alpha$ as the vertices of a graph. It is a finite graph, since we are assuming $M$ finite-dimensional over $K$. For each relation $x b_\alpha = b_\beta$ introduce one directed edge marked ``$x$'' and running from $\alpha$ to $\beta$. For each relation $y b_\alpha = b_\beta$ introduce one directed edge marked ``$y$'' and running from $\alpha$ to $\beta$. Divide the graph into connected components. It is clear that a vector cannot have edges arriving and departing, since $x x$, $x y$, $y x$ and $y y$ act as a zero on $M$. By the definition of a ``good base'', a vector cannot have more than two edges arriving (one $x$ and one $y$), and of course it cannot have more than two edges departing (one $x$ and one $y$). The connected components of the graph are therefore zigzags. (A zigzag cannot join up into a closed polygon, because we assume $\deg x \ne \deg y$.) Each connected component of the graph gives a submodule of $M$, which is one of the 4 types describes above; and $M$ is their direct sum. This proves \ref{lem:p3ch16.12}.
\end{proof}

We define the indecomposible quotient $Q(M)$ of $M$ by $Q(M) = M/(x M +y M)$. Over $K$ we can, if we wish, choose a direct sum splitting \[M = Q(M) \oplus (x M + y M).\] Both $x$ and $y$ map $x M + y M$ to $0$, since we assume $x y M = 0$; they also map $Q(M)$ to $(x M + y M)$.

Let $V$ be a finite-dimensional vector space over $K$, and let \[0 \subset V_1 \subset V_2 \subset \ldots \subset V_n = V\] be a filtration of $V$ by a finite increasing sequence of vector subspaces. We say that a $K$-base $\{b_\alpha\}$ for $V$ is \emph{adapted} to the filtration if, for every $i$, those $b_\alpha$ which lie in $V_i$ form a base for $V_i$.

\begin{lemma}
\label{lem:p3ch16.13}
Let $M$ be a module over $K[x, y]$ such that (i) $xy M = 0$ and (ii) $Q(M)_r = 0$ for $r < a$ and for $r > c$. Then there are filtrations of $y M_r$ for $c - \delta < r \le c$ with the following property. For each $r$ in the range $c - \delta < r \le c$ let $\{b_{r \alpha}\}$ be a base of $y M_r$ which is adapted to the filtration; then the set of elements $b_{r \alpha}$ can be extended to a good base of $M$. 
\end{lemma}

\begin{notes}
It is assumed that $\deg y > \deg x$, and $\delta$ has been written for $\deg y - \deg x$.
\end{notes}

\begin{notes}
In the range $c - \delta < r \le c$ we have $x M_{r + \delta} = 0$, and therefore $y M_r = x M_{r + \delta} + y M_r$. So the vector space being filtered is the whole of the decomposable subspace of $M$ in the dimension concerned.
\end{notes}

\begin{corollary}
\label{cor:p3ch16.14}
If $M$ is as in \ref{lem:p3ch16.13}, it has a good base. 
\end{corollary}

\begin{proof}
Any filtered vector space \[0 \subset V_1 \subset V_2 \subset \ldots \subset V_n = V\] has at least one adapted base; for one begins by choosing a base for $V_1$, then extends it to a base $V_2$, and so on by induction. So \ref{lem:p3ch16.13} provides a good base for $M$.
\end{proof}

\begin{proof}[Proof of \ref{lem:p3ch16.13}]
The proof is essentially by induction over $c - a$; the result is true if $c < a$, then if $M = 0$.

Choose a direct sum splitting $M = Q(M) \oplus (xM + y M)$. Let $N$ be the submodule of $M$ generated by $Q(M)_r$ for $a \le r < c$. The relations between $N$ and $M$ are as follows. We have $Q(N)_r = Q(M)_r$ except for $r = c$, in which case $Q(N)_c = 0$. Thus we have $x N_r = x M_r$ except for $r = c$; that is, \[(x N + y N)_r = (x M + y M)_r\] except for $r = c + d$ and $r = c + e$, where $d = \deg x$ and $e = \deg y$. In the first case we have \[y N_{c - \delta} = x N_c + y N_{c - \delta} \subset x M_c + y M_{c - \delta}, \] and in the second case we have \[0 = x N_{x + \delta} + y N_c \subset x M_{c + \delta} + y M_c = y M_c.\] 

We assume, as our inductive hypothesis, that the lemma is true for $N$. Then there are filtrations of $y N_r$ for $c - \delta \le r < c$ which have the property stated in the lemma. In particular, let the filtration of $y N_{c - \delta} = y M_{c - \delta}$ be \[0 = V_0 \subset V_1 \subset V_2 \subset \ldots \subset V_n = y M_{c - \delta}.\] Adjoin to it the further subgroup \[V_{n + 1} = x M_c + y M_{c - \delta}.\] We have a map $x : Q(M)_c \lar{} x M_c + y M_{c - \delta}$; so we can filter the vector space $Q(M)_c$ by the counterimages \[0 \subset x^{-1} V_0 \subset x^{-1} V_1 \subset \ldots \subset x^{-1} V_n \subset x^{-1} V_{n + 1} = Q(M)_c = 0.\] We also have a map a map $y : Q(M)_c \lar{} y M_c$. We filter $y M_c$ by taking the images \[0 \subset y x^{-1} V_0 \subset y x^{-1} V_1 \subset \ldots \subset y x^{-1} V_n \subset y x^{-1} V_{n + 1} = y M_c.\]

We now have filtrations on $y M_r$ for $c - \delta < r \le c$; those for $c - \delta < r < c$ arise from the inductive hypothesis, and that for $r = c$ has already been constructed. Suppose given bases $\{b_{r \alpha}\}$ in $y M_r$ for $c - \delta < r \le c$, adapted to the filtrations. We leave the bases as they are for $c - \delta < r < c$, and start work on the base $\{b_{c \alpha}\}$ for $y M_c$. 

In $Q(M)_c$ we may choose elements $b_\alpha'$ such that $y b'_\alpha = b_{c \alpha}$ and $b'_\alpha \in x^{-1} V_m$ if and only if $b_{c \alpha} \in y x^{-1} V_m$. We may also choose elements $b_\beta''$ in $Q(M)_c$ forming a base adapted to the following filtration. \[0 \subset \te{Ker}\hspace{0.1cm} y \cap x^{-1} V_0 \subset \te{Ker}\hspace{0.1cm} y \cap x^{-1} V_1 \subset \ldots \subset \te{Ker}\hspace{0.1cm} y \cap x^{-1} V_n \subset \te{Ker}\hspace{0.1cm} y \cap x^{-1} V_{n + 1}\] The elements $b_\alpha'$ and $b_\beta''$ together form a base of $Q(M)_c$ adapted to the filtration \[0 \subset x^{-1} V_0 \subset x^{-1} V_1 \subset \ldots \subset x^{-1} V_n \subset x^{-1} V_{n + 1} = Q(M)_c = 0.\] From among the elements $b_\alpha'$ and $b''_\beta$, let us for the moment omit those which lie in $x^{-1} V_0 = \te{Ker}\hspace{0.1cm} x$ and those which do not lie in $x^{-1} V_n$. Then the remaining $x b_\alpha'$ and $x b_\beta''$ form a base of $y N_{c - \delta}$ compatible with its filtration. By the inductive hypothesis, the bases in $y N_r$ for $c - \delta \le r < c$ from part of a good base for $N$. We now adjoin to this base for $N$ the elements $b_\alpha'$ and $b_\beta''$ in $Q(M)_c$, the elements $y b'_\alpha = b_{c \alpha}$ in $y M_c$, and the elements $x b_\alpha'$, $x b_\beta''$ for which $b_\alpha'$, $b_\beta''$ do not lie in $x^{-1} V_n$. We obtain a good base for $M$, containing the given elements $b_{r \alpha}$. This completes the induction and proves \ref{lem:p3ch16.13}.
\end{proof}

This therefore completes the proof of \ref{cor:p3ch16.14}. Theorem \ref{thm:p3ch16.11} follows from \ref{cor:p3ch16.14} and \ref{lem:p3ch16.12}, so this completes the proof of \ref{thm:p3ch16.11}. 

\begin{proof}[Proof of \ref{thm:p3ch16.3}(ii)]
Let $M$ be a finite-dimensional module over $K[x, y]$ such that $H_\ast(M; x)$ and $H_\ast(M; y)$ both have dimension $1$ over $K$. Then by \ref{thm:p3ch16.11} it is a sum of modules of the type considered above. By inspecting $H_\ast(M; x)$ and $H_\ast(M; y)$, it can have only one summand which is not free, and this summand can only lie in two out of the four types. By the same argument applied to $\Sigma^a I^b$, each such summand is stably equivalent to $\Sigma^a I^b$. 
\end{proof}
\end{document}
